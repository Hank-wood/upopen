require.config({paths:{common:"/assets/public/js/common",hint:"/assets/widget/hint/hint"}}),require(["hint","common"],function(n){function t(n){var t={id:n};$.ajax({url:"/blog/fetchList",type:"get",dataType:"json",data:t,success:function(t){0==t.code&&(e(n),a(t.data[0]))}})}function a(n){var t=c.replace(/\{(.*?)\}/g,function(t,a){return n[a]});$("#blogBox").prepend($("<section>").append(t))}function e(n){$.ajax({url:"/comment/fetchList",type:"get",dataType:"json",data:{owner:n},success:function(n){0==n.code&&s(n.data)}})}function s(n){var t=[];$.each(n,function(n,a){t.push(o(n,a))}),$("#commentWrap").append(t)}function o(n,t){var a=$("<div>").addClass("commentItem").append(r.replace(/\{(.*?)\}/g,function(n,a){return t[a]}));return a}var c=['<div class="info clearfix">','<span class="title">{title}</span>','<a class="type" href="/blog/list?kind={id}">{kind}</a>','<img class="head" src="/assets/public/imgs/head.png" width="42" />',"</div>",'<div class="tool">','<span class="toolItem view">Views: {view}</span>','<span class="toolItem talk">Comments: {comment}</span>','<span class="toolItem date">Date: {date}</span>',"</div>",'<div class="content clearfix markdown">{content}</div>'].join(""),i=$("#commentUser"),d=$("#commentContent");$("#commentForm").on("submit",function(){var n={owner:10002,userid:i.val(),content:d.val()};return $.ajax({url:"/comment/create",type:"post",dataType:"json",data:n,success:function(t){console.log(t),0==t.code&&$("#commentWrap").append(o(0,n))}}),!1});var r=['<div><span class="user">{userid}</span><span class="date">{date}</span></div><div class="content markdown">{content}</div>'].join("");!function(){t(location.search.slice(1).split("=")[1])}()});